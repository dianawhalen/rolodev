<h1>Collections#index</h1>
<p>Find me in app/views/collections/index.html.erb</p>

<% if @user == current_user %>
  <h2>My Collections</h2>
<% elsif @user.present? %>
  <h2><%= @user.username %>'s Collections</h2>
<% else %>
  <h1>All Collections</h1>
<% end %>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @collections.each do |collection| %>
      <tr>
        <td><%= link_to collection.name, collection_path(collection) %></td>
        <td
          <% if current_user && current_user == collection.user %>
            <%= button_to "Edit", edit_collection_path(collection), method: :get, class: 'edit-btn' %>
            <%= button_to "Delete", collection_path(collection), method: :delete, data: { confirm: "Are you sure?" }, class: 'delete-btn' %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<% if current_user != @user %>
  <p>You do not have access to view this list of collections. <%= link_to "My collections", user_collections_path(current_user) %></p>
<% end %>
